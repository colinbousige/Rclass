<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>5 Vectors | Reproducible data treatment with R</title>
<meta name="author" content="Colin Bousige">
<meta name="generator" content="bookdown 0.25 with bs4_book()">
<meta property="og:title" content="5 Vectors | Reproducible data treatment with R">
<meta property="og:type" content="book">
<meta property="og:url" content="https://lmi.cnrs.fr/r/vectors.html">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="5 Vectors | Reproducible data treatment with R">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-152051691-1"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-152051691-1');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
<meta name="description" content="blockquote {  background: #E9F9FF;  border-left: 5px solid #026086;  margin: 1.5em 10px;  padding: 0.5em 10px; } R is a vectorized language with built-in arithmetic and relational operators,...">
<meta property="og:description" content="blockquote {  background: #E9F9FF;  border-left: 5px solid #026086;  margin: 1.5em 10px;  padding: 0.5em 10px; } R is a vectorized language with built-in arithmetic and relational operators,...">
<meta name="twitter:description" content="blockquote {  background: #E9F9FF;  border-left: 5px solid #026086;  margin: 1.5em 10px;  padding: 0.5em 10px; } R is a vectorized language with built-in arithmetic and relational operators,...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="An introduction">Reproducible data treatment with R</a>:
        <small class="text-muted">An introduction</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="about-the-class.html"><span class="header-section-number">1</span> About the class</a></li>
<li><a class="" href="a-little-reminder-on-statistics.html"><span class="header-section-number">2</span> A little reminder on Statistics</a></li>
<li><a class="" href="getting-ready.html"><span class="header-section-number">3</span> Getting ready</a></li>
<li><a class="" href="variables-booleans-and-strings.html"><span class="header-section-number">4</span> Variables, booleans and strings</a></li>
<li><a class="active" href="vectors.html"><span class="header-section-number">5</span> Vectors</a></li>
<li><a class="" href="data-frames.html"><span class="header-section-number">6</span> Data frames</a></li>
<li><a class="" href="readingwriting-all-kinds-of-files.html"><span class="header-section-number">7</span> Reading/writing all kinds of files</a></li>
<li><a class="" href="lists.html"><span class="header-section-number">8</span> Lists</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">9</span> Functions</a></li>
<li><a class="" href="conditional-actions-and-loops.html"><span class="header-section-number">10</span> Conditional actions and loops</a></li>
<li><a class="" href="plotting.html"><span class="header-section-number">11</span> Plotting</a></li>
<li><a class="" href="colorplots.html"><span class="header-section-number">12</span> 3D color plots</a></li>
<li><a class="" href="fitting.html"><span class="header-section-number">13</span> Fitting</a></li>
<li><a class="" href="writing-documents-with-rmarkdown.html"><span class="header-section-number">14</span> Writing documents with Rmarkdown</a></li>
<li><a class="" href="graphical-interfaces-with-shiny.html"><span class="header-section-number">15</span> Graphical interfaces with Shiny</a></li>
<li><a class="" href="working-with-units-and-experimental-errors.html"><span class="header-section-number">16</span> Working with units and experimental errors</a></li>
<li><a class="" href="list-of-exercises.html"><span class="header-section-number">17</span> List of exercises</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/colinbousige/Rclass">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="vectors" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> Vectors<a class="anchor" aria-label="anchor" href="#vectors"><i class="fas fa-link"></i></a>
</h1>
<style type="text/css">
blockquote {
  background: #E9F9FF;
  border-left: 5px solid #026086;
  margin: 1.5em 10px;
  padding: 0.5em 10px;
}
</style>
<p><strong>R is a vectorized language</strong> with built-in arithmetic and relational operators, mathematical functions and types of number. It means that each mathematical function and operator works on a set of data rather than a single scalar value as traditional computer language do, and thus <strong>formal looping can <em>usually</em> be avoided</strong>.</p>
<div id="different-ways-of-defining-a-vector" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Different ways of defining a vector<a class="anchor" aria-label="anchor" href="#different-ways-of-defining-a-vector"><i class="fas fa-link"></i></a>
</h2>
<p>If you want to define a vector by specifying the values, use the function <code class="sourceCode r"><span class="fu">c</span>()</code>, like so:</p>
<ul>
<li>Here, <code>x</code> is a vector of doubles:</li>
</ul>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">12</span>, <span class="fl">4.2</span><span class="op">)</span>
<span class="va">x</span></code></pre></div>
<pre><code>## [1]  1.0  5.0  3.0 12.0  4.2</code></pre>
<ul>
<li>But here, <code>x</code> is converted to a vector of strings because it contains a string:</li>
</ul>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">3</span>, <span class="st">"hello"</span><span class="op">)</span>
<span class="va">x</span></code></pre></div>
<pre><code>## [1] "1"     "5"     "3"     "hello"</code></pre>
<ul>
<li>To define a sequence of increasing numbers, either use the notation <code>start:end</code> for a sequence going from <code>start</code> to <code>end</code> by step of 1, or use the <code class="sourceCode r"><span class="fu">seq</span>()</code> function that is more versatile:</li>
</ul>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">:</span><span class="fl">10</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span>, by <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] -10.0  -9.5  -9.0  -8.5  -8.0  -7.5  -7.0  -6.5  -6.0  -5.5  -5.0  -4.5
## [13]  -4.0  -3.5  -3.0  -2.5  -2.0  -1.5  -1.0  -0.5   0.0   0.5   1.0   1.5
## [25]   2.0   2.5   3.0   3.5   4.0   4.5   5.0   5.5   6.0   6.5   7.0   7.5
## [37]   8.0   8.5   9.0   9.5  10.0</code></pre>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span>, length <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] -10  -6  -2   2   6  10</code></pre>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span>, along <span class="op">=</span> <span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] -10.000000  -3.333333   3.333333  10.000000</code></pre>
<ul>
<li>To repeat values, use the <code class="sourceCode r"><span class="fu">rep</span>()</code> function:</li>
</ul>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 0 0 0 0 0 0 0 0 0 0</code></pre>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 0 2 0 2 0 2 0 2 0 2</code></pre>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 0 0 0 0 0 2 2 2 2 2</code></pre>
<ul>
<li>To create vectors of random numbers, use <code class="sourceCode r"><span class="fu">rnorm</span>()</code> or <code class="sourceCode r"><span class="fu">runif</span>()</code> for normally or uniformly distributed numbers, respectively:</li>
</ul>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># vector with 10 random values normally distributed around mean </span>
<span class="co"># with given standard deviation `sd`</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">10</span>, mean<span class="op">=</span><span class="fl">3</span>, sd<span class="op">=</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 1.565174 3.758116 4.279674 2.251153 3.063083 2.926550 2.206959 5.326735
##  [9] 4.511474 1.537023</code></pre>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># vector with 10 random values uniformly distributed between min and max</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">10</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] 0.9711622 0.9624766 0.7473447 0.3020470 0.8816950 0.1469064 0.2017330
##  [8] 0.5588173 0.9354968 0.3516889</code></pre>
</div>
<div id="numerical-and-categorical-data-types" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Numerical and categorical data types<a class="anchor" aria-label="anchor" href="#numerical-and-categorical-data-types"><i class="fas fa-link"></i></a>
</h2>
<p>Data can be of two different types: numerical, or categorical. Let’s say you are measuring a the temperature in a room and recording its value over time:</p>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">T1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">22.3</span>, <span class="fl">23.5</span>, <span class="fl">26.0</span>, <span class="fl">30.2</span><span class="op">)</span></code></pre></div>
<p><code>T1</code> is a vector containing <strong>numerical</strong> data.</p>
<p>Let’s say that now you are recording the temperature level, which can be <code>low</code>, <code>high</code> or <code>medium</code></p>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">T2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"low"</span>, <span class="st">"medium"</span>, <span class="st">"high"</span><span class="op">)</span></code></pre></div>
<p><code>T2</code> is a vector containing <strong>categorical</strong> data, <em>i.e.</em> the data in this example can fall into either of 3 categories. For now, <code>T2</code> is however a vector of strings, and we need to tell R that it contains categorical data by using the function <code class="sourceCode r"><span class="fu">factor</span>()</code>:</p>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">T2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">T2</span><span class="op">)</span>
<span class="va">T2</span></code></pre></div>
<pre><code>## [1] low    low    medium high  
## Levels: high low medium</code></pre>
<p>We see here that we now have 3 levels, and a numerization of <code>T2</code> leads to obtaining the numbers 1, 2 and 3 according to the levels in <code>T2</code>:</p>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">T2</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2 2 3 1</code></pre>
<p>Numerical data can be converted to factors in the same way – this can be useful sometimes, <em>e.g.</em> when plotting with <code>ggplot</code> as we will see later:</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">T1</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 22.3 23.5 26   30.2
## Levels: 22.3 23.5 26 30.2</code></pre>
</div>
<div id="principal-operations-on-vectors" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Principal operations on vectors<a class="anchor" aria-label="anchor" href="#principal-operations-on-vectors"><i class="fas fa-link"></i></a>
</h2>
<div id="mathematical-operations" class="section level3" number="5.3.1">
<h3>
<span class="header-section-number">5.3.1</span> Mathematical operations<a class="anchor" aria-label="anchor" href="#mathematical-operations"><i class="fas fa-link"></i></a>
</h3>
<p>Because R is a vectorized language, you don’t need to loop on all elements of a vector to perform element-wise operations on it. Let’s say that <code class="sourceCode r">x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></code>, then:</p>
<ul>
<li>Addition of a value to all elements:</li>
</ul>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">+</span> <span class="fl">2.5</span></code></pre></div>
<pre><code>## [1] 3.5 4.5 5.5 6.5 7.5 8.5</code></pre>
<ul>
<li>Multiplication / division of all elements:</li>
</ul>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">*</span><span class="fl">2</span></code></pre></div>
<pre><code>## [1]  2  4  6  8 10 12</code></pre>
<ul>
<li>Integer division:</li>
</ul>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%/%</a></span> <span class="fl">3</span></code></pre></div>
<pre><code>## [1] 0 0 1 1 1 2</code></pre>
<ul>
<li>Math functions apply on all elements:</li>
</ul>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 0.7350526 0.6450944 0.9949837 0.8084823 0.5325995 0.9798828</code></pre>
<ul>
<li>Power:</li>
</ul>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">^</span><span class="fl">2.5</span></code></pre></div>
<pre><code>## [1]  1.000000  5.656854 15.588457 32.000000 55.901699 88.181631</code></pre>
<ul>
<li>Multiplication of vectors of the same size is performed element by element:</li>
</ul>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2.3</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">10</span>, <span class="fl">12</span>, <span class="fl">20</span><span class="op">)</span>
<span class="va">x</span><span class="op">*</span><span class="va">y</span></code></pre></div>
<pre><code>## [1]   2.3  10.0  21.0  40.0  60.0 120.0</code></pre>
<ul>
<li>Multiplication of vectors of different sizes: the smaller vector is automatically repeated the number of times needed to get a vector of the size of the larger one. It will work also if the longer object length is not a multiple of shorter object length, but the shorter object will be truncated and you’ll get an error:</li>
</ul>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">*</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span></code></pre></div>
<pre><code>## [1]  1  4  3  8  5 12</code></pre>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">*</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span></code></pre></div>
<pre><code>## Warning in x * 1:4: longer object length is not a multiple of shorter object
## length</code></pre>
<pre><code>## [1]  1  4  9 16  5 12</code></pre>
<ul>
<li>Modulo:</li>
</ul>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fl">2</span></code></pre></div>
<pre><code>## [1] 1 0 1 0 1 0</code></pre>
<ul>
<li>Outer product of vectors (the result is a matrix):</li>
</ul>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/outer.html">%o%</a></span> <span class="va">y</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]  2.3    5    7   10   12   20
## [2,]  4.6   10   14   20   24   40
## [3,]  6.9   15   21   30   36   60
## [4,]  9.2   20   28   40   48   80
## [5,] 11.5   25   35   50   60  100
## [6,] 13.8   30   42   60   72  120</code></pre>
</div>
<div id="accessing-values" class="section level3" number="5.3.2">
<h3>
<span class="header-section-number">5.3.2</span> Accessing values<a class="anchor" aria-label="anchor" href="#accessing-values"><i class="fas fa-link"></i></a>
</h3>
<p>Let’s work on this vector <code>x</code>:</p>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">9</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<div id="accessing-values-by-index" class="section level4" number="5.3.2.1">
<h4>
<span class="header-section-number">5.3.2.1</span> Accessing values by index<a class="anchor" aria-label="anchor" href="#accessing-values-by-index"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>To access values of a vector <code>x</code>, use the <code>x[i]</code> notation, where <code>i</code> is the index you want to access. <code>i</code> can be (and in fact, is always) a vector.</li>
</ul>
<blockquote>
<p><strong>Attention:</strong> In R, indexes numbering start at <strong>1</strong> !!!</p>
</blockquote>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># accessing by indexes</span>
<span class="va">x</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># access index 1, 5 and 2</span>
<span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span>,<span class="fl">2</span><span class="op">)</span><span class="op">]</span> </code></pre></div>
<pre><code>## [1] 5 3 3</code></pre>
<ul>
<li>To remove elements <code>j</code> from a vector <code>x</code>, use the notation <code class="sourceCode r">x[<span class="sc">-</span>j]</code>:</li>
</ul>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># remove elements 1 and 3</span>
<span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 3 9 3</code></pre>
<blockquote>
<p>Writing <code class="sourceCode r">x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</code> will <strong>just print</strong> the result of <code class="sourceCode r">x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</code>, but not actually modify <code>x</code>. To really modify <code>x</code>, you’d need to write <code class="sourceCode r">x <span class="ot">&lt;-</span> x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</code>.</p>
</blockquote>
</div>
<div id="filtering-values-with-tests" class="section level4" number="5.3.2.2">
<h4>
<span class="header-section-number">5.3.2.2</span> Filtering values with tests<a class="anchor" aria-label="anchor" href="#filtering-values-with-tests"><i class="fas fa-link"></i></a>
</h4>
<p>You can access values with booleans. Values getting a <code class="sourceCode r"><span class="cn">TRUE</span></code> will be kept, while values with a <code class="sourceCode r"><span class="cn">FALSE</span></code> will be discarded:</p>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span>,<span class="cn">TRUE</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [1]  5  3  4  3 NA</code></pre>
<p>Therefore, you can apply tests on your values and filter them very easily:</p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">4</span> <span class="co"># is a vector of booleans</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">4</span><span class="op">]</span> <span class="co"># is a filtered vector</span></code></pre></div>
<pre><code>## [1] 5 9</code></pre>
</div>
<div id="accessing-values-by-name" class="section level4" number="5.3.2.3">
<h4>
<span class="header-section-number">5.3.2.3</span> Accessing values by name<a class="anchor" aria-label="anchor" href="#accessing-values-by-name"><i class="fas fa-link"></i></a>
</h4>
<p>Finally, values in vectors can be <strong>named</strong>, and thus can be accessed by their name:</p>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>age<span class="op">=</span><span class="fl">32</span>, name<span class="op">=</span><span class="st">"John"</span>, pet<span class="op">=</span><span class="st">"Cat"</span><span class="op">)</span>
<span class="va">y</span></code></pre></div>
<pre><code>##    age   name    pet 
##   "32" "John"  "Cat"</code></pre>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'age'</span>,<span class="st">'pet'</span><span class="op">)</span><span class="op">]</span> <span class="co"># prints a named vector</span></code></pre></div>
<pre><code>##   age   pet 
##  "32" "Cat"</code></pre>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span><span class="op">[[</span><span class="st">'name'</span><span class="op">]</span><span class="op">]</span> <span class="co"># prints an un-named vector</span></code></pre></div>
<pre><code>## [1] "John"</code></pre>
<p>And you can access the names of the vector using <code class="sourceCode r"><span class="fu">names</span>()</code>:</p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "age"  "name" "pet"</code></pre>
</div>
</div>
<div id="sorting-removing-duplicates-sampling" class="section level3" number="5.3.3">
<h3>
<span class="header-section-number">5.3.3</span> Sorting, removing duplicates, sampling<a class="anchor" aria-label="anchor" href="#sorting-removing-duplicates-sampling"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Sorting by ascending number:</li>
</ul>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3 3 4 5 9</code></pre>
<ul>
<li>It works with strings too, but <code class="sourceCode r">gtools<span class="sc">::</span><span class="fu">mixedsort</span>()</code> might be needed for strings mixing letters and numbers:</li>
</ul>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"c"</span>,<span class="st">"a"</span>,<span class="st">"d"</span>,<span class="st">"ab"</span><span class="op">)</span><span class="op">)</span> </code></pre></div>
<pre><code>## [1] "a"  "ab" "c"  "d"</code></pre>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="st">"a10"</span>, <span class="st">"a2"</span>, <span class="st">"d"</span>, <span class="st">"ab"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "a10" "a2"  "ab"  "c"   "d"</code></pre>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">gtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gtools/man/mixedsort.html">mixedsort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="st">"a10"</span>, <span class="st">"a2"</span>, <span class="st">"d"</span>, <span class="st">"ab"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "a2"  "a10" "ab"  "c"   "d"</code></pre>
<ul>
<li>Sorting by descending number:</li>
</ul>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </code></pre></div>
<pre><code>## [1] 9 5 4 3 3</code></pre>
<ul>
<li>Inverting the order of the vector:</li>
</ul>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3 9 4 3 5</code></pre>
<ul>
<li>Find the order of the indexes of the sorting:</li>
</ul>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2 5 3 1 4</code></pre>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span> <span class="co"># is thus equivalent to `sort(x)`</span></code></pre></div>
<pre><code>## [1] 3 3 4 5 9</code></pre>
<ul>
<li>Find duplicates:</li>
</ul>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE  TRUE</code></pre>
<ul>
<li>Remove duplicates:</li>
</ul>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 5 3 4 9</code></pre>
<ul>
<li>Choose 3 random values:</li>
</ul>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3 9 4</code></pre>
</div>
<div id="maximum-and-minimum" class="section level3" number="5.3.4">
<h3>
<span class="header-section-number">5.3.4</span> Maximum and minimum<a class="anchor" aria-label="anchor" href="#maximum-and-minimum"><i class="fas fa-link"></i></a>
</h3>
<p>This is quite straightforward:</p>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># maximum of x and its index</span>
<span class="va">x</span>; <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> </code></pre></div>
<pre><code>## [1] 5 3 4 9 3</code></pre>
<pre><code>## [1] 9</code></pre>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># minimum of x and its index</span>
<span class="va">x</span>; <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/which.min.html">which.min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 5 3 4 9 3</code></pre>
<pre><code>## [1] 3</code></pre>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb185"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># range of a vector</span>
<span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3 9</code></pre>
</div>
<div id="characteristics-of-vectors" class="section level3" number="5.3.5">
<h3>
<span class="header-section-number">5.3.5</span> Characteristics of vectors<a class="anchor" aria-label="anchor" href="#characteristics-of-vectors"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Size of a vector:</li>
</ul>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<ul>
<li>Statistics on vector:</li>
</ul>
<div class="sourceCode" id="cb189"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     3.0     3.0     4.0     4.8     5.0     9.0</code></pre>
<ul>
<li>Sum of all terms:</li>
</ul>
<div class="sourceCode" id="cb191"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 24</code></pre>
<ul>
<li>Average value:</li>
</ul>
<div class="sourceCode" id="cb193"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 4.8</code></pre>
<ul>
<li>Median value:</li>
</ul>
<div class="sourceCode" id="cb195"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<ul>
<li>Standard deviation:</li>
</ul>
<div class="sourceCode" id="cb197"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2.48998</code></pre>
<ul>
<li>Count occurrence of values:</li>
</ul>
<div class="sourceCode" id="cb199"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## x
## 3 4 5 9 
## 2 1 1 1</code></pre>
<ul>
<li>Cumulative sum:</li>
</ul>
<div class="sourceCode" id="cb201"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1]  5  8 12 21 24</code></pre>
<ul>
<li>Term-by-term difference</li>
</ul>
<div class="sourceCode" id="cb203"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/diff.html">diff</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] -2  1  5 -6</code></pre>
</div>
<div id="concatenation-of-vectors" class="section level3" number="5.3.6">
<h3>
<span class="header-section-number">5.3.6</span> Concatenation of vectors<a class="anchor" aria-label="anchor" href="#concatenation-of-vectors"><i class="fas fa-link"></i></a>
</h3>
<p>This is done using the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> notation: you basically create a vector of vectors, the result being a new vector:</p>
<div class="sourceCode" id="cb205"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># concatenate vectors</span>
<span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="cn">NA</span>, <span class="op">-</span><span class="va">x</span><span class="op">)</span>; <span class="va">z</span></code></pre></div>
<pre><code>##  [1] -1  0  1  2  3  4 NA -5 -3 -4 -9 -3</code></pre>
<p>Another option is to use the <code class="sourceCode r"><span class="fu">append</span>()</code> function that allows for more options:</p>
<div class="sourceCode" id="cb207"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># append values</span>
<span class="fu"><a href="https://rdrr.io/r/base/append.html">append</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">4</span><span class="op">)</span>    <span class="co"># at the end</span></code></pre></div>
<pre><code>## [1] 5 3 4 9 3 4</code></pre>
<div class="sourceCode" id="cb209"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/append.html">append</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span> <span class="co"># or after a given index</span></code></pre></div>
<pre><code>## [1] 5 3 4 4 3 2 1 9 3</code></pre>
</div>
</div>
<div id="exo-vectors" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> Exercises<a class="anchor" aria-label="anchor" href="#exo-vectors"><i class="fas fa-link"></i></a>
</h2>
<p>Interactive exercises can be found in the <a href="https://lmi.cnrs.fr/r/tutor/"><code>tutor</code></a> package. For this, simply run:</p>
<div class="sourceCode" id="cb211"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">tutor</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/tutor/man/tuto.html">tuto</a></span><span class="op">(</span><span class="st">"vectors"</span><span class="op">)</span></code></pre></div>
<hr>
<details><summary><strong>Exercise 1</strong>
</summary><p>Let’s create a named vector containing age of the students in the class, the names of each value being the first name of the students. Then:</p>
<ul>
<li>Compute the average age and its standard deviation</li>
<li>Compute the median age</li>
<li>What is the maximum, minimum and range of the ages in the class?</li>
<li>What are all the student names in the class?</li>
<li>Print the sorted ages by increasing and decreasing order</li>
<li>Print the ages sorted by alphabetically ordered names (increasing and decreasing)</li>
<li>Show a histogram of the ages distribution using <code class="sourceCode r"><span class="fu">hist</span>()</code> and play with the parameter <code>breaks</code> to modify the histogram</li>
<li>Show a boxplot of the ages distribution using <code class="sourceCode r"><span class="fu">boxplot</span>()</code>
</li>
</ul></details><details><summary><strong>Exercise 2</strong>
</summary><p>This exercise is adapted from <a href="https://perso.esiee.fr/~courivad/R/05-vectors.html#application-population-in-french-cities-1962-2012">here</a>.</p>
<p>Open Rstudio and create a new R script, save it as <code>population.R</code> in your wanted directory, say <code>Rcourse/</code>.</p>
<p><a href="Data/population.csv" download target="_blank">Download</a> the <code>population.csv</code> file and save it in your working directory.</p>
<p>A csv file contains raw data stored as plain text and separated by a comma (Comma Separated Values). Open it with Rstudio.</p>
<p>We can of course directly load such file with R and store its data in an appropriate format (<em>i.e.</em> a <code>data.frame</code>), but this is for the next chapter. For now, just copy-paste the text in the Rstudio script area to:</p>
<ul>
<li>Create a <code>cities</code> vector containing all the cities listed in <code>population.csv</code>
</li>
<li>Create a <code>pop_1962</code> and <code>pop_2012</code> vectors containing the populations of each city at these years. Print the 2 vectors.</li>
<li>Use <code class="sourceCode r"><span class="fu">names</span>()</code> to name values of <code>pop_1962</code> and <code>pop_2012</code>. Print the 2 vectors again. Are there any change?</li>
<li>What are the cities with more than 200000 people in 1962? For these, how many residents in 2012?</li>
<li>What is the population evolution of Montpellier and Nantes?</li>
<li>Create a <code>pop_diff</code> vector to store population change between 1962 and 2012</li>
<li>Print cities with a negative change</li>
<li>Print cities which broke the 300000 people barrier between 1962 and 2012</li>
<li>Compute the total change in population of the 10 largest cities (as of 1962) between 1962 and 2012.</li>
<li>Compute the population mean for year 1962</li>
<li>Compute the population mean of Paris over these two years</li>
<li>Sort the cities by decreasing order of population for 1962</li>
</ul>
<details><summary>
Solution
</summary><div class="sourceCode" id="cb212"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a `cities` vector containing all the cities listed in `population.csv`</span>
<span class="va">cities</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Angers"</span>, <span class="st">"Bordeaux"</span>, <span class="st">"Brest"</span>, <span class="st">"Dijon"</span>, <span class="st">"Grenoble"</span>, <span class="st">"Le Havre"</span>, 
            <span class="st">"Le Mans"</span>, <span class="st">"Lille"</span>, <span class="st">"Lyon"</span>, <span class="st">"Marseille"</span>, <span class="st">"Montpellier"</span>, <span class="st">"Nantes"</span>, 
            <span class="st">"Nice"</span>, <span class="st">"Paris"</span>, <span class="st">"Reims"</span>, <span class="st">"Rennes"</span>, <span class="st">"Saint-Etienne"</span>, <span class="st">"Strasbourg"</span>, 
            <span class="st">"Toulon"</span>, <span class="st">"Toulouse"</span><span class="op">)</span>
<span class="co"># Create a `pop_1962` and `pop_2012` vectors containing the populations </span>
<span class="co"># of each city at these years. Print the 2 vectors. </span>
<span class="va">pop_1962</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">115273</span>,<span class="fl">278403</span>,<span class="fl">136104</span>,<span class="fl">135694</span>,<span class="fl">156707</span>,<span class="fl">187845</span>,<span class="fl">132181</span>,<span class="fl">239955</span>,
              <span class="fl">535746</span>,<span class="fl">778071</span>,<span class="fl">118864</span>,<span class="fl">240048</span>,<span class="fl">292958</span>,<span class="fl">2790091</span>,<span class="fl">134856</span>,<span class="fl">151948</span>,
              <span class="fl">210311</span>,<span class="fl">228971</span>,<span class="fl">161797</span>,<span class="fl">323724</span><span class="op">)</span>
<span class="va">pop_2012</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">149017</span>,<span class="fl">241287</span>,<span class="fl">139676</span>,<span class="fl">152071</span>,<span class="fl">158346</span>,<span class="fl">173142</span>,<span class="fl">143599</span>,<span class="fl">228652</span>,
              <span class="fl">496343</span>,<span class="fl">852516</span>,<span class="fl">268456</span>,<span class="fl">291604</span>,<span class="fl">343629</span>,<span class="fl">2240621</span>,<span class="fl">181893</span>,<span class="fl">209860</span>,
              <span class="fl">171483</span>,<span class="fl">274394</span>,<span class="fl">164899</span>,<span class="fl">453317</span><span class="op">)</span>
<span class="va">pop_1962</span>; <span class="va">pop_2012</span></code></pre></div>
<pre><code>##  [1]  115273  278403  136104  135694  156707  187845  132181  239955  535746
## [10]  778071  118864  240048  292958 2790091  134856  151948  210311  228971
## [19]  161797  323724</code></pre>
<pre><code>##  [1]  149017  241287  139676  152071  158346  173142  143599  228652  496343
## [10]  852516  268456  291604  343629 2240621  181893  209860  171483  274394
## [19]  164899  453317</code></pre>
<div class="sourceCode" id="cb215"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Use names() to name values of `pop_1962` and `pop_2012`. </span>
<span class="co"># Print the 2 vectors again. Are there any change?</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">pop_2012</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">pop_1962</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">cities</span>
<span class="va">pop_1962</span>; <span class="va">pop_2012</span></code></pre></div>
<pre><code>##        Angers      Bordeaux         Brest         Dijon      Grenoble 
##        115273        278403        136104        135694        156707 
##      Le Havre       Le Mans         Lille          Lyon     Marseille 
##        187845        132181        239955        535746        778071 
##   Montpellier        Nantes          Nice         Paris         Reims 
##        118864        240048        292958       2790091        134856 
##        Rennes Saint-Etienne    Strasbourg        Toulon      Toulouse 
##        151948        210311        228971        161797        323724</code></pre>
<pre><code>##        Angers      Bordeaux         Brest         Dijon      Grenoble 
##        149017        241287        139676        152071        158346 
##      Le Havre       Le Mans         Lille          Lyon     Marseille 
##        173142        143599        228652        496343        852516 
##   Montpellier        Nantes          Nice         Paris         Reims 
##        268456        291604        343629       2240621        181893 
##        Rennes Saint-Etienne    Strasbourg        Toulon      Toulouse 
##        209860        171483        274394        164899        453317</code></pre>
<div class="sourceCode" id="cb218"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># What are the cities with more than 200000 people in 1962? </span>
<span class="co"># For these, how many residents in 2012?</span>
<span class="va">cities200k</span> <span class="op">&lt;-</span> <span class="va">cities</span><span class="op">[</span><span class="va">pop_1962</span><span class="op">&gt;</span><span class="fl">200000</span><span class="op">]</span>
<span class="va">cities200k</span>; <span class="va">pop_2012</span><span class="op">[</span><span class="va">cities200k</span><span class="op">]</span></code></pre></div>
<pre><code>##  [1] "Bordeaux"      "Lille"         "Lyon"          "Marseille"    
##  [5] "Nantes"        "Nice"          "Paris"         "Saint-Etienne"
##  [9] "Strasbourg"    "Toulouse"</code></pre>
<pre><code>##      Bordeaux         Lille          Lyon     Marseille        Nantes 
##        241287        228652        496343        852516        291604 
##          Nice         Paris Saint-Etienne    Strasbourg      Toulouse 
##        343629       2240621        171483        274394        453317</code></pre>
<div class="sourceCode" id="cb221"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># What is the population evolution of Montpellier and Nantes?</span>
<span class="va">pop_2012</span><span class="op">[</span><span class="st">'Montpellier'</span><span class="op">]</span> <span class="op">-</span> <span class="va">pop_1962</span><span class="op">[</span><span class="st">'Montpellier'</span><span class="op">]</span>; <span class="va">pop_2012</span><span class="op">[</span><span class="st">'Nantes'</span><span class="op">]</span> <span class="op">-</span> <span class="va">pop_1962</span><span class="op">[</span><span class="st">'Nantes'</span><span class="op">]</span></code></pre></div>
<pre><code>## Montpellier 
##      149592</code></pre>
<pre><code>## Nantes 
##  51556</code></pre>
<div class="sourceCode" id="cb224"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a `pop_diff` vector to store population change between 1962 and 2012</span>
<span class="va">pop_diff</span> <span class="op">&lt;-</span> <span class="va">pop_2012</span> <span class="op">-</span> <span class="va">pop_1962</span>
<span class="co"># Print cities with a negative change</span>
<span class="va">cities</span><span class="op">[</span><span class="va">pop_diff</span><span class="op">&lt;</span><span class="fl">0</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] "Bordeaux"      "Le Havre"      "Lille"         "Lyon"         
## [5] "Paris"         "Saint-Etienne"</code></pre>
<div class="sourceCode" id="cb226"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Print cities which broke the 300000 people barrier between 1962 and 2012</span>
<span class="va">cities</span><span class="op">[</span><span class="va">pop_2012</span><span class="op">&gt;</span><span class="fl">300000</span> <span class="op">&amp;</span> <span class="va">pop_1962</span><span class="op">&lt;</span><span class="fl">300000</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] "Nice"</code></pre>
<div class="sourceCode" id="cb228"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Compute the total change in population of the 10 largest cities</span>
<span class="co"># (as of 1962) between 1962 and 2012.</span>
<span class="va">ten_largest</span> <span class="op">&lt;-</span> <span class="va">cities</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">pop_1962</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">pop_2012</span><span class="op">[</span><span class="va">ten_largest</span><span class="op">]</span> <span class="op">-</span> <span class="va">pop_1962</span><span class="op">[</span><span class="va">ten_largest</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] -324432</code></pre>
<div class="sourceCode" id="cb230"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Compute the population mean for year 1962</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">pop_1962</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 367477.3</code></pre>
<div class="sourceCode" id="cb232"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Compute the population mean of Paris</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">pop_1962</span><span class="op">[</span><span class="st">'Paris'</span><span class="op">]</span>, <span class="va">pop_2012</span><span class="op">[</span><span class="st">'Paris'</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2515356</code></pre>
<div class="sourceCode" id="cb234"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Sort the cities by decreasing order of population for 1962</span>
<span class="op">(</span><span class="va">pop_1962_sorted</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">pop_1962</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##         Paris     Marseille          Lyon      Toulouse          Nice 
##       2790091        778071        535746        323724        292958 
##      Bordeaux        Nantes         Lille    Strasbourg Saint-Etienne 
##        278403        240048        239955        228971        210311 
##      Le Havre        Toulon      Grenoble        Rennes         Brest 
##        187845        161797        156707        151948        136104 
##         Dijon         Reims       Le Mans   Montpellier        Angers 
##        135694        134856        132181        118864        115273</code></pre>
</details></details><p><br><br><br><br><br></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="variables-booleans-and-strings.html"><span class="header-section-number">4</span> Variables, booleans and strings</a></div>
<div class="next"><a href="data-frames.html"><span class="header-section-number">6</span> Data frames</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#vectors"><span class="header-section-number">5</span> Vectors</a></li>
<li><a class="nav-link" href="#different-ways-of-defining-a-vector"><span class="header-section-number">5.1</span> Different ways of defining a vector</a></li>
<li><a class="nav-link" href="#numerical-and-categorical-data-types"><span class="header-section-number">5.2</span> Numerical and categorical data types</a></li>
<li>
<a class="nav-link" href="#principal-operations-on-vectors"><span class="header-section-number">5.3</span> Principal operations on vectors</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#mathematical-operations"><span class="header-section-number">5.3.1</span> Mathematical operations</a></li>
<li><a class="nav-link" href="#accessing-values"><span class="header-section-number">5.3.2</span> Accessing values</a></li>
<li><a class="nav-link" href="#sorting-removing-duplicates-sampling"><span class="header-section-number">5.3.3</span> Sorting, removing duplicates, sampling</a></li>
<li><a class="nav-link" href="#maximum-and-minimum"><span class="header-section-number">5.3.4</span> Maximum and minimum</a></li>
<li><a class="nav-link" href="#characteristics-of-vectors"><span class="header-section-number">5.3.5</span> Characteristics of vectors</a></li>
<li><a class="nav-link" href="#concatenation-of-vectors"><span class="header-section-number">5.3.6</span> Concatenation of vectors</a></li>
</ul>
</li>
<li><a class="nav-link" href="#exo-vectors"><span class="header-section-number">5.4</span> Exercises</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/colinbousige/Rclass/blob/master/06-vectors.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/colinbousige/Rclass/edit/master/06-vectors.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Reproducible data treatment with R</strong>: An introduction" was written by Colin Bousige. It was last built on 07/04/2022.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
